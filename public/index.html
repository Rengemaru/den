<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./style.css">
  <title>form</title>
</head>
<body>
<h1>メッセージ送信フォーム</h1>

<div id = "current-status">
  <h2>現在の設定</h2>
  <p>文字: <span id="current-text">未設定</span></p>
  <p>色: <span id="current-color">未設定</span></p>
  <p>大きさ: <span id="current-font-size">未設定</span></p>
  <p>速度: <span id="current-speed">未設定</span></p>
</div>

<form action="/message" method="get">
  <label for="text">表示する文字を入力してください</label><br>
  <input type="text" id="text" name="text" required><br>

  <label for="color">半角で色を選択してください</label><br>
  <select id="color" name="color" required>
    <option value="1">赤</option>
    <option value="2">緑</option>
    <option value="3">青</option>
    <option value="4">黄</option>
    <option value="5">白</option>
  </select><br>

  <label for="font_size">半角で大きさを選択してください</label><br>
  <select id="font_size" name="font_size" required>
    <option value = "1">小</option>
    <option value = "2">中</option>
    <option value = "3">大</option>
  </select><br>

  <label for="speed">速度を選択してください</label><br>
  <select id="speed" name="speed" required>
    <option value = "1">遅い</option>
    <option value = "2">普通</option>
    <option value = "3">早い</option>
  </select><br>

  <input type="submit" value="送信">
</form>
<script>
  // 現在の設定を取得して表示
  function updateCurrentStatus() {
    fetch('/status')
      .then(response => response.json())
      .then(data => {
        document.getElementById('current-text').textContent = data.text;
        document.getElementById('current-color').textContent = data.color;
        document.getElementById('current-font-size').textContent = data.font_size;
        document.getElementById('current-speed').textContent = data.speed;
      });
  }

  // ページ読み込み時に現在の設定を表示
  window.onload = updateCurrentStatus;
</script>
</body>
</html>

